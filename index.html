<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="icon" type="image/x-icon"
        href="https://raw.githubusercontent.com/cuantoken/cuantoken.github.io/main/images/cuanlogo200x200.png">
    <title>CUAN CORE Token LiveSale</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script>

        async function detectAndSwitchNetwork() {
            if (typeof window.ethereum !== 'undefined') {
                const ethereum = window.ethereum;

                try {

                    const chainId = await ethereum.request({ method: 'eth_chainId' });

                    if (chainId !== '0x45c') {

                        await ethereum.request({ method: 'wallet_switchEthereumChain', params: [{ chainId: '0x45c' }] });
                    }
                } catch (error) {
                    console.error('Tidak dapat mengganti jaringan:', error);
                }
            } else {
                console.log('Web3 tidak terdeteksi. Pastikan MetaMask atau penyedia Web3 lainnya terinstal.');
            }
        }

        window.addEventListener('load', detectAndSwitchNetwork);

    </script>
</head>

<body>
    <header>
        <div class="logo">
            <img src="https://raw.githubusercontent.com/cuantoken/cuantoken.github.io/main/images/cuanlogo200x200.png"
                alt="Token Logo">
            <h1>CUAN CORE LiveSale</h1>
        </div>
        <div class="countdown" id="countdown"></div>
        <button id="connectWallet">Connect Wallet</button>
    </header>
    <main>
        <section id="connectedWallet" style="display: none;">
            <h2><i class="fas fa-wallet"></i> Wallet Connected</h2>
            <p><b>You Wallet:</b> <span id="walletAddress"></span></p>
            <p><b>CUAN CA:</b> <span>0xb62FdF96Ee7483F6B930aDF4191E2259536f9868</span></p>
        </section>
        <section>
            <h2><i class="fas fa-rocket"></i> Presale Information</h2>
            <p><b>Presale Rate:</b> <span id="presaleRate"></span> CUAN/CORE</p>
            <p><b>Listing Rate:</b> <span>8</span> CUAN/CORE</p>
            <p><b>Max-Buy:</b> <span id="maxPurchase"></span> CORE</p>
            <p><b>You CORE Balance:</b> <span id="coreBalance"></span> CORE</p>
            <p><b>You CUAN Balance:</b> <span id="tokenBalance"></span> CUAN</p>
            <p><b>Presale Funds Raised:</b> <span id="weiRaised"></span> CORE</p>
        </section>
        <section>
            <h2><i class="fas fa-shopping-cart"></i> CUAN Purchase</h2>
            <form id="buyTokensForm">
                <label for="buyAmount">CORE Amount to Buy:</label>
                <input type="number" id="buyAmount" step="any" required style="width: 80%;">
                <button type="submit">BUY CUAN</button>
            </form>
            <div id="operationResult" style="display: none;">
                <p id="operationMessage"></p>
            </div>
        </section>
    </main>
    <footer>
        <nav>
            <ul class="footer-menu">
                <li><a href="https://twitter.com/cuanswap"><i class="fab fa-twitter"></i></a></li>
                <li><a href="https://t.me/cuanswap"><i class="fab fa-telegram"></i></a></li>
                <li><a href="https://cuanswap.com/cuanswap-token/"><i class="far fa-file-alt"></i></a></li>
            </ul>
        </nav>
    </footer>
    <script src="./js/web3.js"></script>
    <script type="module" src="app.js"></script>
</body>
<script src="countdown.js"></script>

</html>
